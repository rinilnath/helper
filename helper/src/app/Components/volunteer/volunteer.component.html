<div class="container my-4">
    <div>
        <h1 style="text-align: center;">Volunteer Registration</h1>
    </div>
    <form #form="ngForm" autocomplete="off">

        <div class="form-group">
            <label for="category">Category:</label>
            <select class="form-control" id="category" #category="ngModel" name="category"
                [(ngModel)]="volunteerRequest.volunteerRequestFormData.category" required>
                <option value="doctor">Docter</option>
                <option value="organisation">Organisation</option>
                <option value="healthStaff">Other Health Staff</option>
                <option value="public">Public</option>
            </select>
            <div *ngIf="category.invalid && category.touched" class="alert alert-danger mt-2">
                This Field is required
            </div>
        </div>

        <div class="form-group">
            <label for="username">Full Name:</label>
            <input type="text" class="form-control" placeholder="Enter your full name" id="username" #username="ngModel"
                name="username" [(ngModel)]="volunteerRequest.volunteerRequestFormData.username" required>
            <div *ngIf="username.invalid && username.touched" class="alert alert-danger mt-2">
                This Field is required
            </div>
        </div>
        <div class="form-group">
            <label for="email">Email address:</label>
            <input type="email" class="form-control" placeholder="Enter email" id="email" #email="ngModel" name="email"
                [(ngModel)]="volunteerRequest.volunteerRequestFormData.email"
                pattern="^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$" required>
            <div *ngIf="email.invalid && email.touched" class="alert alert-danger mt-2">
                This Field is required and provide a valid email
            </div>
        </div>
        <div class="form-group">
            <label for="mobile">Mobile No:</label>
            <input type="text" class="form-control" placeholder="Enter mobile numer" id="mobile" #mobile="ngModel"
                name="mobile" [(ngModel)]="volunteerRequest.volunteerRequestFormData.mobile" pattern="\d{10}" required>
            <div *ngIf="mobile.invalid && mobile.touched" class="alert alert-danger mt-2">
                This Field is required and should have 10 digit mobile number
            </div>
        </div>

        <div id="recaptcha-container"></div>

        <p>Verify Captcha</p>

        <button class="btn btn-primary my-2" (click)="sendLoginCode()">Send OTP</button>

        <div *ngIf="windowRef.confirmationResult">

            <label for="code">Enter your Verification Code Here</label><br>
            <input type="text" name="code" [(ngModel)]="verificationCode">

            <button class="btn btn-primary m-2" (click)="verifyLoginCode()">Verify</button>
        </div>

        <div *ngIf="user" class="alert alert-success my-2">
            Successfully verified your mobile number
        </div>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label for="district">Select District:</label>
                    <select class="form-control" id="district" #district="ngModel" name="district"
                        [(ngModel)]="volunteerRequest.volunteerRequestFormData.district" required>
                        <option *ngFor="let data of districtlist" [value]="data">{{data | uppercase}}</option>
                    </select>
                </div>
                <div *ngIf="district.invalid && district.touched" class="alert alert-danger mt-2">
                    This Field is required
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label for="taluk">Select Taluk:</label>
                    <select class="form-control" id="taluk" #taluk="ngModel" name="taluk"
                        [(ngModel)]="volunteerRequest.volunteerRequestFormData.taluk" required>
                        <option *ngFor="let data of taluklist" [value]="data">{{data | uppercase}}</option>
                    </select>
                </div>
                <div *ngIf="taluk.invalid && taluk.touched" class="alert alert-danger mt-2">
                    This Field is required
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label for="village">Select village:</label>
                    <select class="form-control" id="village" #village="ngModel" name="village"
                        [(ngModel)]="volunteerRequest.volunteerRequestFormData.village" required>
                        <option *ngFor="let data of villagelist" [value]="data">{{data | uppercase}}</option>
                    </select>
                </div>
                <div *ngIf="village.invalid && village.touched" class="alert alert-danger mt-2">
                    This Field is required
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label for="username">Ward:</label>
                    <input type="number" class="form-control" placeholder="Enter your ward number" id="ward"
                        #ward="ngModel" name="ward" [(ngModel)]="volunteerRequest.volunteerRequestFormData.ward"
                        required>
                    <div *ngIf="ward.invalid && ward.touched" class="alert alert-danger mt-2">
                        This Field is required
                    </div>
                </div>
            </div>


        </div>
        <div class="form-group">
            <label for="address">Address:</label>
            <input type="text" class="form-control" placeholder="House name and location" id="address"
                #address="ngModel" name="address" [(ngModel)]="volunteerRequest.volunteerRequestFormData.address"
                required>
            <div *ngIf="address.invalid && address.touched" class="alert alert-danger mt-2">
                This Field is required
            </div>
        </div>

        <div class="form-group">
            <label for="dob">DOB:</label>
            <input type="text" class="form-control" placeholder="Date of birth" id="dob" #dob="ngModel" name="dob"
                [(ngModel)]="volunteerRequest.volunteerRequestFormData.dob" required>
            <div *ngIf="dob.invalid && dob.touched" class="alert alert-danger mt-2">
                This Field is required
            </div>
        </div>

        <div class="form-group">
            <label for="ocupation">Ocupation:</label>
            <input type="text" class="form-control" placeholder="Enter your ocupation" id="ocupation"
                #ocupation="ngModel" name="ocupation" [(ngModel)]="volunteerRequest.volunteerRequestFormData.ocupation"
                required>
            <div *ngIf="ocupation.invalid && ocupation.touched" class="alert alert-danger mt-2">
                This Field is required
            </div>
        </div>


        <button type="submit" (click)="onSubmit(form)" [disabled]="form.invalid" class="btn btn-success">Submit</button>
    </form>
    <div class="my-4">
        <form>
            <div class="form-group">
                <button (click)="onSubmitVolunteerList()" class="btn btn-primary mt-2">Click here to see volunteer list</button>
            </div>
        </form>
        <table *ngIf="volunteerDetails" class="table table-bordered mt-3">
            <thead>
                <tr>
                    <th>Category</th>
                    <th>Name</th>
                    <th>Mobile</th>
                    <th>District</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let volunteer of volunteerDetails">
                    <td>{{volunteer.category}}</td>
                    <td>{{volunteer.username}}</td>
                    <td>{{volunteer.mobile}}</td>
                    <td>{{volunteer.district}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-body">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>